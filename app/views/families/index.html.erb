<% if notice %>
  <div class='alert alert-primary'>
    <%= notice %>
  </div>
<% end %>

<h1>Families</h1>

<table class='table'>
  <thead>
    <tr>
      <th scope='col'>Last name</th>
      <th scope='col'>First name</th>
      <th scope='col'>Age</th>
      <th scope='col'>Home address</th>
      <th scope='col'>Email address</th>
      <th scope='col'>Phone number</th>
      <th colspan="2">Actions</th>
    </tr>
  </thead>

  <tbody>
    <% @families.each do |family| %>
      <tr>
        <th scope='row'><%= link_to family.primary_family_member.last_name, family_family_members_path(family_id: family.id) %></td>
        <td><%= family.primary_family_member.first_name %></td>
        <td><%= family.primary_family_member.age %></td>
        <td><%= family.home_address %></td>
        <td><%= mail_to(family.email_address) %></td>
        <td><%= number_to_phone(family.phone_number) %></td>
        <td><%= link_to edit_icon, edit_family_path(family) %></td>
        <td><%= link_to delete_icon, family, method: :delete, data: { title: 'Delete Confirmation', confirm: "Are you sure you want to delete the <b>#{family.name}</b> family? This action cannot be undone." } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'Add New Family', new_family_path, class: 'btn btn-primary' %>
